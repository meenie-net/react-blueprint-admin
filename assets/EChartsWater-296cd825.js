import{j as Z}from"./index-e00961be.js";import{u as re,i as de,a as ve,b as fe,e as he,c as ce,S as me,d as ye,f as ge,g as pe,h as j,G as $,j as Se,k as we,R as J,Z as K,C as be,p as xe,m as Q,B as Pe,l as ee,n as Ie,L as te,E as Me}from"./index-4acf6848.js";import{C as Ce}from"./card-4c8dd9fd.js";re([de,ve]);re(fe);he({type:"series.liquidFill",optionUpdated:function(){var t=this.option;t.gridSize=Math.max(Math.floor(t.gridSize),4)},getInitialData:function(t,a){var d=ce(t.data,{coordDimensions:["value"]}),h=new me(d,this);return h.initData(t.data),h},defaultOption:{color:["#294D99","#156ACF","#1598ED","#45BDFF"],center:["50%","50%"],radius:"50%",amplitude:"8%",waveLength:"80%",phase:"auto",period:"auto",direction:"right",shape:"circle",waveAnimation:!0,animationEasing:"linear",animationEasingUpdate:"linear",animationDuration:2e3,animationDurationUpdate:1e3,outline:{show:!0,borderDistance:8,itemStyle:{color:"none",borderColor:"#294D99",borderWidth:8,shadowBlur:20,shadowColor:"rgba(0, 0, 0, 0.25)"}},backgroundStyle:{color:"#E3F7FF"},itemStyle:{opacity:.95,shadowBlur:50,shadowColor:"rgba(0, 0, 0, 0.4)"},label:{show:!0,color:"#294D99",insideColor:"#fff",fontSize:50,fontWeight:"bold",align:"center",baseline:"middle",position:"inside"},emphasis:{itemStyle:{opacity:.8}}}});const Le=ye({type:"ec-liquid-fill",shape:{waveLength:0,radius:0,radiusY:0,cx:0,cy:0,waterLevel:0,amplitude:0,phase:0,inverse:!1},buildPath:function(t,a){a.radiusY==null&&(a.radiusY=a.radius);for(var d=Math.max(Math.ceil(2*a.radius/a.waveLength*4)*2,8);a.phase<-Math.PI*2;)a.phase+=Math.PI*2;for(;a.phase>0;)a.phase-=Math.PI*2;var h=a.phase/Math.PI/2*a.waveLength,v=a.cx-a.radius+h-a.radius*2;t.moveTo(v,a.waterLevel);for(var m=0,S=0;S<d;++S){var O=S%4,n=Ae(S*a.waveLength/4,O,a.waveLength,a.amplitude);t.bezierCurveTo(n[0][0]+v,-n[0][1]+a.waterLevel,n[1][0]+v,-n[1][1]+a.waterLevel,n[2][0]+v,-n[2][1]+a.waterLevel),S===d-1&&(m=n[2][0])}a.inverse?(t.lineTo(m+v,a.cy-a.radiusY),t.lineTo(v,a.cy-a.radiusY),t.lineTo(v,a.waterLevel)):(t.lineTo(m+v,a.cy+a.radiusY),t.lineTo(v,a.cy+a.radiusY),t.lineTo(v,a.waterLevel)),t.closePath()}});function Ae(t,a,d,h){return a===0?[[t+1/2*d/Math.PI/2,h/2],[t+1/2*d/Math.PI,h],[t+d/4,h]]:a===1?[[t+1/2*d/Math.PI/2*(Math.PI-2),h],[t+1/2*d/Math.PI/2*(Math.PI-1),h/2],[t+d/4,0]]:a===2?[[t+1/2*d/Math.PI/2,-h/2],[t+1/2*d/Math.PI,-h],[t+d/4,-h]]:[[t+1/2*d/Math.PI/2*(Math.PI-2),-h],[t+1/2*d/Math.PI/2*(Math.PI-1),-h/2],[t+d/4,0]]}var P=xe;function ae(t){return t&&t.indexOf("path://")===0}ge({type:"liquidFill",render:function(t,a,d){var h=this,v=this.group;v.removeAll();var m=t.getData(),S=m.getItemModel(0),O=S.get("center"),n=S.get("radius"),R=d.getWidth(),I=d.getHeight(),F=Math.min(R,I),B=0,A=0,U=t.get("outline.show");U&&(B=t.get("outline.borderDistance"),A=P(t.get("outline.itemStyle.borderWidth"),F));var M=P(O[0],R),C=P(O[1],I),L,W,D,w=!1,p=t.get("shape");if(p==="container"?(w=!0,L=[R/2,I/2],W=[L[0]-A/2,L[1]-A/2],D=[P(B,R),P(B,I)],n=[Math.max(W[0]-D[0],0),Math.max(W[1]-D[1],0)]):(L=P(n,F)/2,W=L-A/2,D=P(B,F),n=Math.max(W-D,0)),U){var le=_();le.style.lineWidth=A,v.add(_())}var ie=w?0:M-n,oe=w?0:C-n,T=null;v.add(ne());var q=this._data,G=[];m.diff(q).add(function(e){var r=N(e,!1),l=r.shape.waterLevel;r.shape.waterLevel=w?I/2:n,pe(r,{shape:{waterLevel:l}},t),r.z2=2,V(e,r,null),v.add(r),m.setItemGraphicEl(e,r),G.push(r)}).update(function(e,r){for(var l=q.getItemGraphicEl(r),s=N(e,!1,l),o={},i=["amplitude","cx","cy","phase","radius","radiusY","waterLevel","waveLength"],f=0;f<i.length;++f){var u=i[f];s.shape.hasOwnProperty(u)&&(o[u]=s.shape[u])}for(var y={},c=["fill","opacity","shadowBlur","shadowColor"],f=0;f<c.length;++f){var u=c[f];s.style.hasOwnProperty(u)&&(y[u]=s.style[u])}w&&(o.radiusY=I/2),j(l,{shape:o,x:s.x,y:s.y},t),t.isUniversalTransitionEnabled&&t.isUniversalTransitionEnabled()?j(l,{style:y},t):l.useStyle(y);var g=l.getClipPath(),b=s.getClipPath();l.setClipPath(s.getClipPath()),l.shape.inverse=s.inverse,g&&b&&h._shape===p&&!ae(p)&&j(b,{shape:g.shape},t,{isFrom:!0}),V(e,l,l),v.add(l),m.setItemGraphicEl(e,l),G.push(l)}).remove(function(e){var r=q.getItemGraphicEl(e);v.remove(r)}).execute(),S.get("label.show")&&v.add(se(G)),this._shape=p,this._data=m;function z(e,r){if(p)if(ae(p)){var l=Q(p.slice(7),{}),s=l.getBoundingRect(),o=s.width,i=s.height;o>i?(i=e*2/o*i,o=e*2):(o=e*2/i*o,i=e*2);var f=r?0:M-o/2,u=r?0:C-i/2;return l=Q(p.slice(7),{},new Pe(f,u,o,i)),r&&(l.x=-o/2,l.y=-i/2),l}else if(w){var y=r?-e[0]:M-e[0],c=r?-e[1]:C-e[1];return ee("rect",y,c,e[0]*2,e[1]*2)}else{var y=r?-e:M-e,c=r?-e:C-e;return p==="pin"?c+=e:p==="arrow"&&(c-=e),ee(p,y,c,e*2,e*2)}return new Ie({shape:{cx:r?0:M,cy:r?0:C,r:e}})}function _(){var e=z(L);return e.style.fill=null,e.setStyle(t.getModel("outline.itemStyle").getItemStyle()),e}function ne(){var e=z(n);e.setStyle(t.getModel("backgroundStyle").getItemStyle()),e.style.fill=null,e.z2=5;var r=z(n);r.setStyle(t.getModel("backgroundStyle").getItemStyle()),r.style.stroke=null;var l=new $;return l.add(e),l.add(r),l}function N(e,r,l){var s=w?n[0]:n,o=w?I/2:n,i=m.getItemModel(e),f=i.getModel("itemStyle"),u=i.get("phase"),y=P(i.get("amplitude"),o*2),c=P(i.get("waveLength"),s*2),g=m.get("value",e),b=o-g*o*2;u=l?l.shape.phase:u==="auto"?e*Math.PI/4:u;var x=f.getItemStyle();if(!x.fill){var E=t.get("color"),k=e%E.length;x.fill=E[k]}var ue=s*2,Y=new Le({shape:{waveLength:c,radius:s,radiusY:o,cx:ue,cy:0,waterLevel:b,amplitude:y,phase:u,inverse:r},style:x,x:M,y:C});Y.shape._waterLevel=b;var X=i.getModel("emphasis.itemStyle").getItemStyle();X.lineWidth=0,Y.ensureState("emphasis").style=X,Se(Y);var H=z(n,!0);return H.setStyle({fill:"white"}),Y.setClipPath(H),Y}function V(e,r,l){var s=m.getItemModel(e),o=s.get("period"),i=s.get("direction"),f=m.get("value",e),u=s.get("phase");u=l?l.shape.phase:u==="auto"?e*Math.PI/4:u;var y=function(b){var x=m.count();return x===0?b:b*(.2+(x-e)/x*.8)},c=0;o==="auto"?c=y(5e3):c=typeof o=="function"?o(f,e):o;var g=0;i==="right"||i==null?g=Math.PI:i==="left"?g=-Math.PI:i==="none"?g=0:console.error("Illegal direction value for liquid fill."),i!=="none"&&s.get("waveAnimation")&&r.animate("shape",!0).when(0,{phase:u}).when(c/2,{phase:g+u}).when(c,{phase:g*2+u}).during(function(){T&&T.dirty(!0)}).start()}function se(e){var r=S.getModel("label");function l(){var x=t.getFormattedLabel(0,"normal"),E=m.get("value",0)*100,k=m.getName(0)||t.name;return isNaN(E)||(k=E.toFixed(0)+"%"),x??k}var s={z2:10,shape:{x:ie,y:oe,width:(w?n[0]:n)*2,height:(w?n[1]:n)*2},style:{fill:"transparent"},textConfig:{position:r.get("position")||"inside"},silent:!0},o={style:{text:l(),textAlign:r.get("align"),textVerticalAlign:r.get("baseline")}};Object.assign(o.style,we(r));var i=new J(s),f=new J(s);f.disableLabelAnimation=!0,i.disableLabelAnimation=!0;var u=new K(o),y=new K(o);i.setTextContent(u),f.setTextContent(y);var c=r.get("insideColor");y.style.fill=c;var g=new $;g.add(i),g.add(f);var b=z(n,!0);return T=new be({shape:{paths:e},x:M,y:C}),T.setClipPath(b),f.setClipPath(T),g}},dispose:function(){}});const ze=()=>{const a=[.5,.5,.5],d={title:[{text:"预约量",x:"25%",y:30,textAlign:"center",textStyle:{color:"#a1a1a1",fontSize:16,fontFamily:"Microsoft Yahei",fontWeight:"100",textAlign:"center"}},{text:"实时客流量",x:"75%",y:30,textAlign:"center",textStyle:{color:"#a1a1a1",fontSize:16,fontFamily:"Microsoft Yahei",fontWeight:"100",textAlign:"center"}},{text:(.5*100).toFixed(0)+"%",left:"25%",top:"38%",textAlign:"center",textStyle:{fontSize:"50",fontWeight:"300",color:"#a06a0a",textAlign:"center",textBorderColor:"rgba(0, 0, 0, 0)",textShadowColor:"#fff",textShadowBlur:"0",textShadowOffsetX:0,textShadowOffsetY:1}},{text:(.5*100).toFixed(0)+"%",left:"75%",top:"38%",textAlign:"center",textStyle:{fontSize:"50",fontWeight:"300",color:"#02456d",textAlign:"center",textBorderColor:"rgba(0, 0, 0, 0)",textShadowColor:"#fff",textShadowBlur:"0",textShadowOffsetX:0,textShadowOffsetY:1}}],series:[{type:"liquidFill",radius:"50%",z:6,center:["25%","50%"],color:[{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:1,color:"rgba(251, 173, 23, 0)"},{offset:.5,color:"rgba(251, 173, 23, .2)"},{offset:0,color:"rgba(251, 173, 23, 1)"}],globalCoord:!1}],data:a,backgroundStyle:{borderWidth:1,color:"transparent"},label:{normal:{formatter:""}},outline:{show:!0,itemStyle:{borderWidth:0},borderDistance:0}},{name:"第二层白边",type:"pie",z:3,radius:["0%","55%"],center:["25%","50%"],hoverAnimation:!1,itemStyle:{normal:{label:{show:!1}}},data:[{value:100,itemStyle:{normal:{color:new te(0,0,0,1,[{offset:0,color:"#fefefe"},{offset:1,color:"#e7e8ea"}])}}},{value:0,itemStyle:{normal:{color:"transparent"}}}]},{name:"最外绿边",type:"pie",z:1,radius:["0%","58%"],center:["25%","50%"],hoverAnimation:!1,itemStyle:{normal:{label:{show:!1}}},data:[{value:100,itemStyle:{color:"#fdc56e"}},{value:0,itemStyle:{normal:{color:"transparent"}}}]},{type:"liquidFill",radius:"50%",z:6,center:["75%","50%"],color:["#c1dce7","#90d3f0","#009bdb"],data:[.6,{value:.5,direction:"left"},.4,.3],backgroundStyle:{borderWidth:1,color:"transparent"},label:{normal:{formatter:""}},outline:{show:!0,itemStyle:{borderWidth:0},borderDistance:0}},{name:"第二层白边",type:"pie",z:3,radius:["0%","55%"],center:["75%","50%"],hoverAnimation:!1,itemStyle:{normal:{label:{show:!1}}},data:[{value:100,itemStyle:{normal:{color:new te(0,0,0,1,[{offset:0,color:"#fefefe"},{offset:1,color:"#e7e8ea"}])}}},{value:0,itemStyle:{normal:{color:"transparent"}}}]},{name:"最外蓝边",type:"pie",z:1,radius:["0%","58%"],center:["75%","50%"],hoverAnimation:!1,itemStyle:{normal:{label:{show:!1}}},data:[{value:100,itemStyle:{color:"#07a2e3"}},{value:0,itemStyle:{normal:{color:"transparent"}}}]}]};return Z.jsx(Ce,{className:"h-full",children:Z.jsx(Me,{option:d,style:{height:"600px"}})})};export{ze as default};
