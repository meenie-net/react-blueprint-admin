import{r as o,j as n,B as i}from"./index-6e57d46d.js";import{C as h}from"./card-d6d3eced.js";const k=r=>{const{options:t,onChange:u}=r,[l,c]=o.useState(()=>{const e={};for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)){const s=t[a];s.multiple?e[s.key]=[]:e[s.key]=""}return e}),p=e=>{l[e.key].length===e.options.length?c({...l,[e.key]:[]}):c({...l,[e.key]:e.options.map(a=>a.value)})},d=(e,a)=>{if(e.multiple){const s=l[e.key];s.includes(a.value)?s.splice(l[e.key].indexOf(a.value),1):s.push(a.value),c({...l,[e.key]:s})}else l[e.key]===a.value?c({...l,[e.key]:""}):c({...l,[e.key]:a.value})};return o.useEffect(()=>u(l),[l]),n.jsx("div",{children:t?t.map((e,a)=>n.jsxs("div",{className:"mt-4 flex items-center",children:[n.jsxs("span",{className:"text-base",children:[e.title,"（",`${e.multiple?"多":"单"}`,"）："]}),e.multiple&&n.jsx(i,{className:"mr-4 rounded-full",intent:"primary",outlined:!0,active:l[e.key]?l[e.key].length===e.options.length:!1,small:!0,onClick:()=>p(e),children:"全部"}),e.options.map((s,y)=>n.jsx(i,{className:"mr-4 rounded-full",intent:"primary",outlined:!0,active:e.multiple?l[e.key]?l[e.key].includes(s.value):!1:s.value===l[e.key],small:!0,icon:s.icon||"grid-view",onClick:()=>d(e,s),children:s.label},y))]},a)):null})},x=()=>{const r=[{title:"部门",key:"department",multiple:!0,options:[{value:"sales",label:"销售部",icon:"shop"},{value:"back",label:"后勤部",icon:"clean"},{value:"eaar",label:"事业部",icon:"shop"}]},{title:"权限",key:"permission",multiple:!1,options:[{value:"admin",label:"管理员",icon:"user"},{value:"superAdmin",label:"超级管理员",icon:"mugshot"},{value:"sales",label:"普通",icon:"new-person"}]}],[t,u]=o.useState({}),l=c=>{u(c)};return n.jsxs(h,{className:"h-full",children:[n.jsx(k,{options:r,onChange:l}),n.jsxs("pre",{className:"mt-4",children:["结果：",JSON.stringify(t)]})]})};export{x as default};
